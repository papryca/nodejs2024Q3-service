generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
   id        String   @id @default(uuid())
   login     String
   password  String
   version   Int      @default(1)
   createdAt DateTime @default(now())
   updatedAt DateTime @updatedAt
}

model Artist {
   id     String  @id @default(uuid())
   name   String
   grammy Boolean
   albums  Album[]
   tracks  Track[]
}

model Album {
   id       String  @id @default(uuid())
   name     String
   year     Int
   artistId String?
   artist   Artist? @relation(fields: [artistId], references: [id])
   tracks   Track[]
}

model Track {
    id        String  @id @default(uuid())
    name      String
    artistId  String?
    albumId   String?
    duration  Int
    artist    Artist? @relation(fields: [artistId], references: [id])
    album     Album?  @relation(fields: [albumId], references: [id])
}

model Favorites {
  id       String   @id @default(uuid())
    artists  String[]
    albums   String[]
    tracks   String[]
}
